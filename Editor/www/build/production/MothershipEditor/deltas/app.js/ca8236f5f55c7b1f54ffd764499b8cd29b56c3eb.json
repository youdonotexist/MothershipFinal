["/*65d015d97127f09e7444af01dc59309745236b49",42,596450,"Upgrades",596509,106,637163,880,"docked:\"top\",pressedButtons:[0],items:[{itemId:\"minion\",text:\"Minion\",flex:1},{itemId:\"mothership\",",638093,230,"flex:1",592718,76,"action:\"save",599033,63,"Springboard",625280,81,596718,136,599434,46,599532,126,599714,340,596859,271,600430,513,588496,32,597162,2288,599496,189,600050,383,600946,19740,",autoSelect:true",620686,3661,",",624352,450,"g,e){var f=b.getDisplayField();if(!e){var h=",612766,34,"(\"storyTellerId\");if(!h){h=b.getStore().getAt(0).get(\"id\")}b.setValue(h)}var d=b.getStore(),a=d",624931,42,",c=b.getRecord();if(!c){c=d.getAt(0);b.setRecord(c)}",625040,47,"\",c.get(f",625102,51,625088,74,623854,100,625263,8462,"id\",\"title\",\"description",633730,34,"reload\",\"index",587104,41,"Upgrade",586368,33,633850,120,"levels",633982,91,634122,49,"view.upgradelist.UpgradeEdit",620444,45,"alias:\"widget.upgradeedi",637916,90,592734,60,"action:\"save",592864,42,"c){var e=this;e.callParent(arguments);var b=e.getRecord(),f=b.levels();e.removeAll();for(var d=0;d<f.getAllCount();d++",595613,42,"upgradelist.UpgradeEditorView\",{record:f.getAt(d)});e.add(a",633630,35,634171,135,",control:{upgradeList:{itemtap:\"onUpgradeTap\"},\"upgradelistcard",606114,37,"\"upgradeeditcard",606114,37,"\"upgradelistcard segmentedbutton\":{toggle:\"onChangeSegmen",612061,32,634334,43,"a.xtype==\"upgradelistcard\"){",634374,82,"autoLoad:true,storeName:\"minion_upgrade_store\"",634499,69,",onUpgradeTap:function(f,c,i,b,h",595611,44,"upgradelist.UpgradeEditCard\",{record:b});this.currentUpgrade=b;var g=Ext.getCmp(\"navigation_root\");g.push(a)},onChangeSegment:function(e,c,a,b){var f=this.getUpgradeList(),d=c.getItemId();if(a){f",634406,50,"autoLoad:true,storeName:\"minion_upgrade_store\"",634499,35,"\"+d,reader:{type:\"json\"}}})}},onSave:function(a){this.currentUpgrade.saveAssociations=true;this.currentUpgrad",623902,41,634599,2329,";this.applyOverrides()},applyOverrides:function(){Ext.data.writer.Json.override({getRecordData:function(g){var k=this,f,d,j,e=g.data;if(g.saveAssociations){for(f=0;f<g.associations.length;f++){d=g.associations.get(f);e[d._associationKey]=null;j=g[d._storeName];j.each(function(i){if(!e[d._associationKey]){e[d._associationKey]=[]}var q=this.getRecordData.call(this,i);if(i.dirty|i.phantom|(q!=null)){e[d._associationKey].push(q);g.setDirty()}},k);Ext.each(j.removed,function(q){q.set(\"forDeletion\",true);var i=this.getRecordData.call(this,q);e[d._associationKey].push(i);g.setDirty()},k)}}var o=g.phantom===true,c=this.getWriteAllFields()||o,b=this.getNameProperty(),h=g.getFields(),m,a,l,p,n;if(c){h.each(function(i){if(i.getPersist()){a=i.config[b]||i.getName();n=g.get(i.getName());if(i.getType().type==\"date\"){n=this.writeDate(i,n)}e[a]=n}},this)}else{m=g.getChanges();for(p in m){if(m.hasOwnProperty(p)){l=h.get(p);if(l.getPersist()){a=l.config[b]||l.getName();n=m[p];if(l.getType().type==\"date\"){n=this.writeDate(l,n)}e[a]=n}}}if(!o){e[g.getIdProperty()]=g.getId()}}return e}})",636928,259,"EditorView\",{extend:Ext.Container,config:{width:\"100%\",height:\"15em\",items:[{height:\"10%\",itemId:\"level_container\",html:\"Level 1",239247,40,"white\"},{layout:\"hbox\",items:[{layout:\"vbox\",flex:1,items:[",597535,32,"Name\",itemId:\"title",620181,44,"Description",620819,49,",itemId:\"description\"}]},{layout:\"vbox\",flex:1,items:[",597535,32,"Cost\",label:\"C\",itemId:\"cost",598383,35,"Damage\",label:\"D\",itemId:\"damage",598383,35,"Life\",label:\"L\",itemId:\"life",598383,35,"Speed\",label:\"S\",itemId:\"speed",598383,35,"Reload\",label:\"R\",itemId:\"reload\"}]}]}]},constructor:function(c){var e=this;e.callParent(arguments);var a=[e.down(\"#title\"),e.down(\"#description\"),e.down(\"#cost\"),e.down(\"#damage\"),e.down(\"#life\"),e.down(\"#speed\"),e.down(\"#reload\")],g=e.down(\"#level_container\"),b=e.getRecord();for(var d=0;d<a.length;d++){var f=a[d];f.setValue(b.get(f.getItemId()));f.on(\"change\",function(i,h){b.set(i.getItemId(),h)})}g.setHtml(\"Level: \"+b.get(\"index\"))}});"]